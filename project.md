# 项目是做什么的？

 - 适用背景
 
 搜索服务(如Google)采用PageRank算法结果排序，社交网络(如Facebook)使用Clustering算法分析用户群落，知识共享网站(如Wikipedia)使用Named Entity Recognition算法识别文本信息，视频网站(如Netflix)基于Collaborative Filtering算法提供影视推荐等。
然而，研究指出，由于图计算应用在 计算和存储 上的特性造成 面向数据并行编程模型(如，MapReduce[6])无法提供高效的支持，缺乏对数据间关联性的描述手段以及对迭代计算的低效支持可能造成数倍乃至数十倍的性能损失。对于高效的大规模图计算(Graph Computation)系统的迫切需求促使其成为并行与分布式处理领域急需解决的重要问题之一。
 
 - 数据集
 
 除了直径，度数分布外，不同数据集图结构的差异还表现在大连通分量占比，边和顶点数量等。而且执行过程中的运行时环境也会发生变化。
 
 实践显示，图结构常具有多样性（边数量、顶点数量、度分布情况 、直径、密度等），并且不同的图处理方法对于图结构非常敏感，各系统对于不同数据集表现出不同的性能。

 - 现有方法
 
```
 PowerLyra: Differentiated Graph Computation and Partitioning on Skewed Graphs(EuroSys’15)
```
提出采用差分图划分方式，减少低度点的复制因子，从而减少通信量。
```
Hybrid Pulling/Pushing for I/O-Efficient Distributed and Iterative Graph Computing (SIGMOD’16)
```
根据I/O访问频率提出了一种基于pull/push的自适应切换算法，并改进了原有的pull方法（b-pull）使访问svertices的I/O costs最优。
```
Gemini: A Computation-Centric Distributed Graph Processing System(OSDI’16)
```
以计算为中心的分布式图处理系统，采用混合pull/push方法促进图顶点的状态更新和消息传递。
```
GrapH: Heterogeneity-Aware Graph Computation with Adaptive Partitioning(ICDCS’16)
```
考虑了图顶点通信量和在异构网络下的通信开销这两个运行时特征，通过图划分块的迁移，使运行时的通信开销最小化。GrapH比PowerSwitch在通信量方面更优。

 - 现有方法的问题
 
 当前针对图计算模型的研究工作集中于面向某一模式的性能优化，或者为两种模式提供相同的接口允许用户依据算法特点进行选择． 
 
 1.采用静态的图划分方法，没有考虑到图顶点收敛导致的图结构变化。经过一次迭代后，图划分块中的大量图顶点可能会收敛，少数活跃顶点的频繁访问可能会导致整个图划分块的反复加载，然而这些收敛的顶点目前是不需要访问和处理的，但是也需要被加载，这样就浪费内存带宽降低了cache命中率。
 
 现有方法要么是按照图顶点ID存放，要么是按照图的邻接表顺序存放，这就导致一些度数高的顶点和其邻居度数低的顶点会被存放到同一分区中。但是现有方法并没有对每个分区中不同活跃度的顶点进行区分处理。
 
 2.在图处理方面，现有系统的消息传递模型没有考虑到图划分块之间的结构差异

 例如前面的PowerSwitch允许切换执行方式，例如在同步和异步之间切换，但是他们都是对所有块进行操作。

 如图1号顶点入度和出度较大，较为活跃，理论上应该采用异步方式，加快收敛速度，因为大量图顶点（2345）需要通过这些活跃顶点进行状态传递，采用异步方式各顶点在更新自身数据后会立即通过消息发送更新，使邻接顶点可以使用最新的数据进行计算。
如图246顶点活跃度较低，接近收敛，再采用异步方式加快收敛速度没有很高的价值，理论上应该采用同步方式，减少Cache缺失率等，从而减少图顶点状态更新所需时间。

 
# 采用了哪些方法

 - 方法流程

 - 效果怎么样？
 
 - 为什么这些方法有效果？
 
 经过一次迭代后，图划分块中的大量图顶点可能会收敛，少数活跃顶点的频繁访问可能会导致整个图划分块的反复加载，然而这些收敛的顶点目前是不需要访问和处理的，但是也需要被加载，浪费内存带宽和cache。

而我采用动态增量的图划分方法，根据图顶点的状态变化情况进行局部重划分。
 
 - 是什么促使我想到这个方法？
 
 由于小世界现象，图顶点会服从幂函数分布，少量图顶点会连接绝大多数图顶点，而这些绝大多数图顶点需要通过这些少数的顶点进行状态传递，因此这些核心图顶点需要频繁进行访问和更新，而其他顶点很快就收敛从而访问频率低，因此会面临前面说的问题，所以我们动态增量的图划分方式。
 
 图顶点度数和其状态度对图顶点收敛影响尤为关键，同时也决定图顶点处理顺序。
 
 实践显示，不同的图处理方法对于图结构非常敏感，各系统对于不同数据集表现出不同的性能。如Pregel+系统，PageRank在Twitter数据集下执行时间较长，而在美国路网这个数据集下执行时间最短。分析图结构特征时发现，Twitter直径短，度数分布倾斜度大，USA直径长，度数分布比较均匀。从而导致，同一算法，不同数据集下的不同系统性能差异很大.

 不仅如此，就算是同一数据集，未收敛的图顶点构成的图结构会在运行过程中不断变化。51%的图顶点经一次迭代就可收敛，而存在极少数的顶点需要经历50多次迭代才会达到收敛。而传统的方法都采用统一的的图划分和图处理方式，这就导致虽然有些图顶点已经收敛了，但是分区中还有部分图顶点需要多轮迭代才能收敛，整个分区会被不断加载进内存，cache命中率大大下降。
 
 - 为什么要根据不同的运行时环境为各块采用不同执行方式？

 - 为什么要对热块和冷块采用不同的执行方式？
 
 - 现有方法会不会想到了我的方法，但是却并没有采用

# 难点

 - 如何有效感知图结构和获取所需的运行时特征。
 
 - 如何有效调度图划分块处理顺序。
 
 - 如何根据图结构特征及运行时特征准确指导处理方式的切换。
 
 - 如何有效切换并确保切换的正确性。



# 创新点

 - 根据图结构（图顶点热度等）采用动态增量方式划分图。

 - 根据图划分块状态度调度图划分块处理顺序。
 
 - 采用图结构感知与运行时特征分析相结合的方法将各图划分块切换到合适的处理方式。


